<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/x-icon" href="/static/images/logo.png">
    <meta charset="UTF-8">
    <title>מצב האומה</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='base_style.css') }}">
</head>
<body>
    <div class="sidebar-open" id="sidebar-open">
        {% include 'KnessChat.html' %}
    </div>
    <div class="sidebar-close" id="sidebar-close" onclick="openNav()">
        {% include 'knesschat-close.html' with context %}
    </div>
    <div class="site" id="site">
        <button id="toggleButton" class="sidebarBtn" onclick="toggleNav()"><<</button>

        <div class="header">
            {% include 'header.html' %}
        </div>
        <div class="main">
            {% block body %}{% endblock %}
        </div>
    </div>
</body>

<script>
    const sidebar = document.getElementById("sidebar-open").style.display = "block";

    function openNav() {
        // display change
        document.getElementById("sidebar-open").style.display = "block";
        document.getElementById("sidebar-close").style.display = "none";
        // width and margin change
        document.getElementById("sidebar-open").style.width = "23vw";
        document.getElementById("site").style.marginLeft = "20%";
        // close btn margin
        document.getElementById("toggleButton").style.marginLeft = "7vh";

    }
    
    function closeNav() {
        // width and margin change
        document.getElementById("sidebar-open").style.width = "5vw";
        document.getElementById("site").style.marginLeft= "5.5%";
        // display change
        document.getElementById("sidebar-close").style.display = "block";
        document.getElementById("sidebar-open").style.display = "none";
        // close btn margin
        document.getElementById("toggleButton").style.marginLeft = "0";

    }

    function toggleNav() {
        const sidebar = document.getElementById("sidebar-open");
        const toggleButton = document.getElementById("toggleButton");
    
        const isSidebarOpen = sidebar.style.display === "block";        
        if (isSidebarOpen) {
            console.log('close')
            closeNav();
            toggleButton.innerHTML = ">>";
        } else {
            openNav();
            toggleButton.innerHTML = "<<";
        }
    }
</script>
</html>

