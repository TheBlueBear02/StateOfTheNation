<!DOCTYPE html>
<html lang="he">
<head>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/site icon.svg') }}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- Primary Meta Tags -->
    <title>מצב האומה | state of the nation IL</title>
    <meta name="title" content="מצב האומה | state of the nation IL">
    <meta name="description" content="מצב האומה - דשבורד למדינת ישראל">
    <meta name="keywords" content="ישראל, פוליטיקה, כנסת, דמוגרפיה, מצב האומה">
    <meta name="author" content="מצב האומה">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.url }}">
    <meta property="og:title" content="מצב האומה | state of the nation IL">
    <meta property="og:description" content="מצב האומה - דשבורד למדינת ישראל">
    <meta property="og:image" content="{{ url_for('static', filename='images/logo-icon.png', _external=True) }}">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ request.url }}">
    <meta property="twitter:title" content="מצב האומה | state of the nation IL">
    <meta property="twitter:description" content="מצב האומה - דשבורד למדינת ישראל">
    <meta property="twitter:image" content="{{ url_for('static', filename='images/logo-icon.png', _external=True) }}">
    
    <!-- Additional Meta Tags -->
    <meta name="theme-color" content="#ffffff">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="מצב האומה">
    
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='images/site icon.svg') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='images/site icon.svg') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='images/site icon.svg') }}">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="{{ url_for('static', filename='base_style.css') }}">
</head>
<body>
    <div class="sidebar-open" id="sidebar-open">
        {% include 'knesschat/knesschat-feed.html' %}
    </div>
    <div class="sidebar-close" id="sidebar-close" onclick="toggleNav()">
        {% include 'knesschat/knesschat-close.html' with context %}
    </div>
    <div class="site" id="site">
        <div class="shape-container">
            <button id="toggleButton" class="sidebarBtn" onclick="toggleNav()">
                <img id="toggleImg" style=" width: 3vh;" src="/static/images/buttons/close-icon-white.png">
            </button>
        </div>

        <div class="header">
            {% include 'header.html' %}
        </div>
        <div class="main">
            {% block body %}{% endblock %}
        </div>
        <div class="footer">
            {% include 'footer.html' %}
        </div>
        <!--
        <div class="credit">
            <p>כל הזכויות שמורות לאתר מצב האומה ©</p>
        </div>
        -->
    </div>
    <div id="bthn" lang="he"></div><script>
        (function () {
           var script = document.createElement("script");
           script.type = "text/javascript";
           script.src = "https://bringthemhomenow.net/1.1.0/hostages-ticker.js";
           script.setAttribute(
             "integrity",
             "sha384-DHuakkmS4DXvIW79Ttuqjvl95NepBRwfVGx6bmqBJVVwqsosq8hROrydHItKdsne"
           );
           script.setAttribute("crossorigin", "anonymous");
           document.getElementsByTagName("head")[0].appendChild(script);
         })();
        </script>
</body>

<script>
    const sidebar = document.getElementById("sidebar-open").style.display = "block";

    function openNav() {
        // display change
        document.getElementById("sidebar-open").style.display = "block";
        document.getElementById("sidebar-close").style.display = "none";
        // width and margin change
        document.getElementById("sidebar-open").style.width = "23vw";
        document.getElementById("site").style.marginLeft = "20%";
        // close btn margin
        document.getElementById("toggleButton").style.marginLeft = "8vh";

    }
    
    function closeNav() {
        // width and margin change
        document.getElementById("sidebar-open").style.width = "5vw";
        document.getElementById("site").style.marginLeft= "5.5%";
        // display change
        document.getElementById("sidebar-close").style.display = "block";
        document.getElementById("sidebar-open").style.display = "none";
        // close btn margin
        document.getElementById("toggleButton").style.marginLeft = "0";

    }

    function toggleNav() {
        const sidebar = document.getElementById("sidebar-open");
        const toggleButton = document.getElementById("toggleButton");
        const toggleImg = document.getElementById("toggleImg");

        const isSidebarOpen = sidebar.style.display === "block";        
        if (isSidebarOpen) {
            closeNav();
            toggleImg.src = "/static/images/buttons/message-icon-white.png"; // Set this to the image for closed state
        } else {
            openNav();
            toggleImg.src = "/static/images/buttons/close-icon-white.png";
        }
    }
</script>
</html>

