<link rel="stylesheet" href="{{ url_for('static', filename='parlament.css') }}">

<div>
    {% macro render_seat(seat, party_dict) %}
        {% if seat != "space" %}
            <span class="seat-span" 
                data-tooltip="{{ seat.party }} {{ party_dict[seat.party] }} מנדטים"
                data-party="{{ seat.party }}" 
                style="background-color: {% include 'party_color.html' %}; ">
            </span>
            <!-- for coalition shadow around spans box-shadow: 0 0 3vw {% if seat.is_coalition %} rgba(0, 64, 255, 0.6) {% else %} rgba(255, 179, 0, 0.6) {% endif %};-->
    {% endif %}
    {% endmacro %}

    <table class="knesset-table">
        {% for i in range(left_section|length) %}
            <tr>
                {% for section, section_name in [(left_section, 'left'), (center_section, 'center'), (right_section, 'right')] %}
                    {% for seat in section[i] %}
                        <td class="{{ section_name }}-section">
                            {{ render_seat(seat, party_dict) }}
                        </td>
                    {% endfor %}
                {% endfor %}
            </tr>
        {% endfor %}
    </table>
</div>
<div class="coin">
    <div class="coin-inner">
        <div class="coin-front">
            <div style="width: 100%; height: 100%; border-radius: 50%; background-color: rgb(255, 255, 255);">
                <!-- Content for the back side of the coin -->
                <table style="width: 50%; margin: auto; margin-top: 12%;">
                    <tr>
                        <td style="text-align: center;">
                            <h2 style="color: black; margin: 0; font-size: 5vw;">68/52</h2>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: center; border-top: .2vw solid ;">
                            <h2 style="color: black; margin: 0; font-size: 5vw;">120</h2>
                        </td>
                    </tr>
                </table>
            </div>    
        </div>
        <div class="coin-back">
        </div>
  </div>


<script>
    
    document.addEventListener("DOMContentLoaded", function() {
    const spans = document.querySelectorAll('.seat-span');

    spans.forEach(span => {
        const party = span.getAttribute('data-party');
        
        // Mouseover event
        span.addEventListener('mouseover', () => {
            spans.forEach(s => {
                if (s.getAttribute('data-party') === party) {
                    s.style.transform = "scale(1.15)";
                }
            });
        });

        // Mouseout event to reset the size
        span.addEventListener('mouseout', () => {
            spans.forEach(s => {
                if (s.getAttribute('data-party') === party) {
                    s.style.transform = "scale(1)";
                }
            });
        });
    });
});
</script>